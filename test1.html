<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rahasto Työkalu</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans">
  <header class="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 text-center">
    <h1 class="text-3xl font-bold">Rahasto Valitsin</h1>
    <p class="mt-2 text-lg">Valitse kriteerit ja löydä paras rahasto sinulle</p>
  </header>

  <main class="max-w-4xl mx-auto p-6">
    <!-- Valinta Lomake -->
    <section class="bg-white shadow-md rounded-lg p-6 mb-6">
      <h2 class="text-2xl font-semibold mb-4">Valitse kriteerit</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div>
          <label class="block mb-2 font-medium">Kategoria</label>
          <select id="category" class="w-full border-gray-300 rounded p-2">
            <option value="">Kaikki</option>
            <option value="Sektori arvometallit osakkeet">Arvometallit</option>
            <option value="Sektori teollisuusmateriaalit osakkeet">Teollisuusmateriaalit</option>
          </select>
        </div>

        <div>
          <label class="block mb-2 font-medium">Maksimi Riski (1-10)</label>
          <input type="number" id="risk" min="1" max="10" class="w-full border-gray-300 rounded p-2" placeholder="Esim. 6">
        </div>

        <div>
          <label class="block mb-2 font-medium">Minimi 12 kk tuotto</label>
          <input type="number" step="0.0001" id="return" class="w-full border-gray-300 rounded p-2" placeholder="Esim. 0.6">
        </div>
      </div>
      <button onclick="findBestFund()" class="mt-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2 rounded shadow hover:from-purple-600 hover:to-blue-600 transition">Etsi Paras Rahasto</button>
    </section>

    <!-- Tulokset -->
    <section id="result" class="hidden bg-white shadow-md rounded-lg p-6">
      <h2 class="text-2xl font-semibold mb-4">Suositeltu Rahasto</h2>
      <div id="fund-card" class="p-4 border rounded bg-gray-50"></div>
    </section>
  </main>

  <footer class="text-center text-gray-500 p-6">
    &copy; 2025 Rahasto Työkalu
  </footer>

  <script>
    const funds = [
      {
        name: "Franklin Gold & Prec Mtls A(acc)USD",
        category: "Sektori arvometallit osakkeet",
        return12m: 0.6858,
        rating: "3 stars",
        risk: 6,
        sfdr: "",
        fees: "1,86%",
        owners: 9604
      },
      {
        name: "Evli Silver and Gold B",
        category: "Sektori arvometallit osakkeet",
        return12m: 0.6773,
        rating: "4 stars",
        risk: 6,
        sfdr: "",
        fees: "1,02%",
        owners: 1482
      },
      {
        name: "AuAg Silver Bullet B",
        category: "Sektori arvometallit osakkeet",
        return12m: 0.6476,
        rating: "2 stars",
        risk: 8,
        sfdr: "",
        fees: "1,40%",
        owners: 9807
      },
      {
        name: "Finserve Global Security Fund I SEK R",
        category: "Sektori teollisuusmateriaalit osakkeet",
        return12m: 0.6287,
        rating: "5 stars",
        risk: 8,
        sfdr: "",
        fees: "1,94%",
        owners: 19207
      },
      {
        name: "Jupiter Gold & Silver L USD Acc",
        category: "Sektori arvometallit osakkeet",
        return12m: 0.578,
        rating: "3 stars",
        risk: 6,
        sfdr: "",
        fees: "1,75%",
        owners: 3275
      }
    ];

    function findBestFund() {
      const category = document.getElementById("category").value;
      const maxRisk = parseInt(document.getElementById("risk").value) || 10;
      const minReturn = parseFloat(document.getElementById("return").value) || 0;

      let filtered = funds.filter(f => {
        return (category === "" || f.category === category) &&
               f.risk <= maxRisk &&
               f.return12m >= minReturn;
      });

      if (filtered.length === 0) {
        document.getElementById("fund-card").innerHTML = "<p class='text-red-500 font-medium'>Ei sopivia rahastoja löytynyt.</p>";
      } else {
        // Järjestä 12 kk tuoton mukaan laskevasti
        filtered.sort((a,b) => b.return12m - a.return12m);
        const best = filtered[0];
        document.getElementById("fund-card").innerHTML = `
          <h3 class="text-xl font-bold mb-2">${best.name}</h3>
          <p><strong>Kategoria:</strong> ${best.category}</p>
          <p><strong>12 kk tuotto:</strong> ${(best.return12m*100).toFixed(2)}%</p>
          <p><strong>Rating:</strong> ${best.rating}</p>
          <p><strong>Riski:</strong> ${best.risk}</p>
          <p><strong>Kulut:</strong> ${best.fees}</p>
          <p><strong>Omistajia Nordnetissä:</strong> ${best.owners}</p>
        `;
      }

      document.getElementById("result").classList.remove("hidden");
      window.scrollTo({ top: document.getElementById("result").offsetTop - 20, behavior: 'smooth' });
    }
  </script>
</body>
</html>
