<!DOCTYPE html>
<html lang="fi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1, viewport-fit=cover" />
<title>Talousuutiset – Päivän tärkeimmät talous- ja sijoittamisuutiset</title>
<meta name="description" content="Päivän tärkeimmät talousuutiset ja sijoittamiseen liittyvät ajankohtaiset aiheet. Seuraa markkinoiden liikkeitä ja pysy ajan tasalla Talousvahdin kautta." />
<meta name="keywords" content="talousuutiset, sijoittaminen, pörssi, sisäpiirikaupat, markkinat, osakkeet, finanssiuutiset" />
<meta name="author" content="Talousvahti" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "NewsMediaOrganization",
  "name": "Talousvahti",
  "url": "https://talousvahti.com/",
  "logo": "https://storage.mlcdn.com/account_image/1738913/F10sfe8bFAdBG18eXKylAp68FiK6Q4K6jv0e6T1g.png",
  "sameAs": [
    "https://www.instagram.com/talousvahti/"
  ]
}
</script>
  
<style>
:root{
  --bg:#000;
  --panel:#111;
  --panel-2:#1a1a1a;
  --muted:#aeb6c1;
  --accent:#0384fc;
  --accent-2:#00c2ff;
  --glass: rgba(255,255,255,0.04);
  --radius:14px;
  --shadow: 0 8px 30px rgba(2,6,23,0.6);
  --card-shadow: 0 6px 20px rgba(3,8,20,0.55);
  --glass-border: rgba(255,255,255,0.03);
}

*{box-sizing:border-box}
html,body{height:100%; margin:0; background:#000; color:#eef2f5; font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; line-height:1.5; -webkit-tap-highlight-color: transparent;}
a{text-decoration:none; color:var(--accent); transition:color .18s ease}
a:hover{color:var(--accent-2)}

/* NAVBAR */
.navbar{
  position:fixed;
  top:0;
  left:0;
  width:100%;
  z-index:1200;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:20px;
  padding:14px 28px;
  background: linear-gradient(180deg, rgba(0,0,0,0.9), rgba(10,10,10,0.8));
  border-bottom:1px solid rgba(255,255,255,0.03);
  backdrop-filter: blur(6px);
}
.brand{display:flex; gap:12px; align-items:center;}
.brand-badge{width:40px; height:40px; background:linear-gradient(135deg,var(--accent),var(--accent-2)); border-radius:10px; display:grid; place-items:center; font-weight:700; font-size:16px; color:#031423; box-shadow:0 6px 18px rgba(3,132,252,0.14), inset 0 -6px 10px rgba(0,0,0,0.15);}
.brand-title{ font-weight:600; font-size:18px; color:#fff; letter-spacing:0.2px; }

.navlinks{ display:flex; gap:14px; align-items:center; }
.navlinks a{ color:#dfe7ee; font-size:14px; padding:8px 12px; border-radius:8px; transition:all .18s ease; text-decoration:none; }
.navlinks a:hover{ background:var(--glass); transform:translateY(-2px); color:#fff; }
.navlinks a.active{ background:linear-gradient(90deg,#0f2b66 0%, rgba(3,132,252,0.12) 100%); color:#fff; box-shadow:0 6px 18px rgba(3,132,252,0.06); }

.controls{ display:flex; gap:12px; align-items:center; }

.hamburger{ display:none; width:42px; height:42px; border-radius:10px; background:transparent; border:1px solid var(--glass-border); display:grid; place-items:center; cursor:pointer; }
.hamburger .lines{ width:20px; height:14px; position:relative; }
.hamburger .lines::before, .hamburger .lines::after, .hamburger .lines div{ content:""; position:absolute; left:0; right:0; height:2px; background:#dfe7ee; border-radius:2px; }
.hamburger .lines::before{ top:0; opacity:0.95 }
.hamburger .lines::after{ bottom:0; opacity:0.95 }
.hamburger .lines div{ top:6px; opacity:0.95 }

.mobile-menu{ display:none; position:fixed; top:72px; right:18px; width:260px; background:linear-gradient(180deg,var(--panel), #121212); border-radius:12px; padding:12px; box-shadow:var(--shadow); z-index:1300; transform-origin:top right; animation:menuIn .22s ease; }
@keyframes menuIn{ from{ transform: translateY(-6px) scale(.98); opacity:0 } to{ transform:none; opacity:1 } }
.mobile-menu a{ display:block; padding:10px 12px; color:#e6eef6; border-radius:8px; margin:6px 0; transition:all .16s; text-decoration:none; }
.mobile-menu a:hover{ background:rgba(255,255,255,0.03) }

/* HERO */
.hero{ padding:56px 20px 36px; display:grid; place-items:center; text-align:center; gap:10px; margin-top:72px; }
.hero h1{ margin:0; font-size:28px; color:#ffffff; font-weight:600; letter-spacing:0.2px; }
.hero p{ margin:0; max-width:820px; color:var(--muted); font-size:15.5px; }

/* LAYOUT */
.container{ max-width:1150px; margin:34px auto; padding:0 20px 60px; display:grid; grid-template-columns: repeat(12, 1fr); gap:22px; }
.main{ grid-column:1 / span 8; display:flex; flex-direction:column; gap:18px; }
.sidebar{ grid-column:9 / span 4; display:flex; flex-direction:column; gap:18px; }

/* CARDS - General styling reused for news boxes and sidebar */
.card{ background: linear-gradient(180deg,var(--panel), var(--panel-2)); border-radius: var(--radius); padding:22px; box-shadow: var(--card-shadow); border:1px solid rgba(255,255,255,0.02); transition: transform .28s cubic-bezier(.2,.9,.2,1), box-shadow .28s; opacity:0; transform: translateY(26px); }
.card.visible{ animation: popIn .6s cubic-bezier(.2,.9,.2,1) forwards; }
@keyframes popIn{ to{ opacity:1; transform:none } }
.card:hover{ transform: translateY(-6px); box-shadow: 0 18px 45px rgba(2,6,23,0.6) }
.card h3{ margin:0 0 10px 0; font-size:18px; color:#fff; font-weight:600; display:flex; align-items:center; gap:10px; }
.card p.small{ color:var(--muted); margin:0; font-size:14px }

/* Feed Specific Styling */
.feed-header {
  font-size: 24px;
  color: #ffffff;
  font-weight: 600;
  letter-spacing: 0.2px;
  margin-bottom: 25px;
  border-bottom: 1px solid rgba(255,255,255,0.05);
  padding-bottom: 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.feed-header .date { font-size: 16px; font-weight: 400; color: var(--accent); }

.feed-box { /* Reusing .card for feed items */
  padding: 20px 22px;
}
.feed-box h3 { margin-bottom: 8px; font-size: 20px; color: #fff; font-weight: 600; }
.feed-box h3 a { color: #fff; transition: color 0.2s; }
.feed-box h3 a:hover { color: var(--accent); }
.feed-box p { font-size: 15px; line-height: 1.5; margin-bottom: 6px; color: #ddd; }
.feed-box .source { font-size: 13px; color: var(--accent); font-weight: 600; display: block; margin-top: 8px; }

/* Loader */
#loader {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  font-size: 16px;
  color: #ffffff;
  margin-top: 50px;
  text-align: center;
}
.image-loader {
  position: relative;
  width: 100px;
  height: 100px;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: var(--shadow);
}
.image-loader img {
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.image-loader .gray { filter: grayscale(100%); z-index: 1; }
.image-loader .color { z-index: 2; clip-path: inset(0 100% 0 0); animation: revealMask 3s linear forwards; }
@keyframes revealMask { from { clip-path: inset(0 100% 0 0); } to { clip-path: inset(0 0 0 0); } }
.image-loader::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 50%;
  background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, #000 100%);
  z-index: 3;
  pointer-events: none;
}

/* Sidebar Kit form styling from second script */
.icon-circle{ width:44px; height:44px; border-radius:10px; display:grid; place-items:center; background:linear-gradient(135deg, rgba(3,132,252,0.12), rgba(0,194,255,0.06)); color:var(--accent); font-weight:700; box-shadow: inset 0 -8px 18px rgba(0,0,0,0.35); }
.kit-wrap{ margin-top:14px; display:block; }
.kit-embed, .kit-wrap > iframe, .kit-wrap > *{ width:100% }

/* Footer */
.footer{ margin-top:36px; padding:30px 20px; text-align:center; color:var(--muted); border-top:1px solid rgba(255,255,255,0.02); font-size:14px; }

/* Media Queries */
@media (max-width:1024px){ .main{ grid-column:1 / span 7 } .sidebar{ grid-column:8 / span 5 } }
@media (max-width:860px){
  .container{ gap:16px }
  .main{ grid-column:1 / span 12 }
  .sidebar{ grid-column:1 / span 12 }
  .hamburger{ display:grid }
  .navlinks{ display:none }
  .brand-title{ display:none }
  .hero{ padding:36px 16px 24px }
  .hero h1{ font-size:22px }
  .brand-badge{ width:36px; height:36px; font-size:14px }
}
</style>
</head>
<body>

<header class="navbar" role="banner">
  <div class="brand" aria-label="Talousvahti">
    <div class="brand-badge" aria-hidden="true">T</div>
    <div>
      <div class="brand-title">Talousvahti</div>
      <div style="font-size:11px;color:var(--muted);margin-top:2px">Uutiset • Kurssit • Työkalut</div>
    </div>
  </div>

  <nav class="navlinks" aria-label="Päävalikko">
    <a href="index.html" class="active" aria-current="page">Talousuutiset</a>
    <a href="kurssit.html">Pörssikurssit</a>
    <a href="talouskalenteri.html">Talouskalenteri</a>
    <a href="Blogi.html">Blogi</a>
    <a href="sijoituslaskuri.html">Sijoituslaskuri</a>
    <a href="tietoa.html">Tietoa</a>
  </nav>

  <div class="controls">
    <button class="hamburger" id="hamburger" aria-expanded="false" aria-controls="mobileMenu" title="Avaa valikko">
      <span class="lines"><div></div></span>
    </button>
  </div>
</header>

<div id="mobileMenu" class="mobile-menu" role="menu" aria-hidden="true" style="display:none">
  <a href="index.html" role="menuitem" class="active">Talousuutiset</a>
  <a href="kurssit.html" role="menuitem">Pörssikurssit</a>
  <a href="talouskalenteri.html" role="menuitem">Talouskalenteri</a>
  <a href="Blogi.html" role="menuitem">Blogi</a>
  <a href="sijoituslaskuri.html" role="menuitem">Sijoituslaskuri</a>
  <a href="tietoa.html" role="menuitem">Tietoa</a>
</div>

<section class="hero" aria-labelledby="hero-title">
  <h1 id="hero-title">Päivän tärkeimmät talousuutiset</h1>
  <p>Talousvahti kokoaa sinulle ajankohtaiset uutiset, markkinoiden liikkeet ja sijoittamiseen liittyvät aiheet yhdelle sivulle.</p>
</section>

<main class="container" role="main">
    <section class="main" id="talousuutiset">
    <div class="feed-header">
      Tuoreimmat uutiset
      <span class="date" id="today-date"></span>
    </div>
    <div id="feeds">
      <div id="loader">
        <div class="image-loader">
          <img class="gray" src="https://storage.mlcdn.com/account_image/1738913/3UJwhclPvl7P8Z56KrJYVAXUe6dwuVPNN5TfLsfT.png" alt="Latauskuva">
          <img class="color" src="https://storage.mlcdn.com/account_image/1738913/3UJwhclPvl7P8Z56KrJYVAXUe6dwuVPNN5TfLsfT.png" alt="Latauskuva">
        </div>
        <p>Ladataan talousuutisia...</p>
      </div>
    </div>
  </section>

    <aside class="sidebar" role="complementary" aria-label="Sivupaneeli">
    <div class="card visible" id="subscribe" aria-labelledby="subscribe-title">
      <div style="display:flex;gap:12px;align-items:center">
        <div class="icon-circle" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 8l9 6 9-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
        <div style="flex:1">
          <h3 id="subscribe-title">Liity sähköpostilistalle</h3>
          <p class="small">Joka aamu — päivän tärkeimmät talousuutiset ja markkinakatsaus suoraan sähköpostiisi.</p>
        </div>
      </div>

      <div class="kit-wrap" aria-hidden="false" style="margin-top:12px">
        <script async data-uid="722673f8d4" src="https://talousvahti.kit.com/722673f8d4/index.js"></script>
      </div>
    </div>
  </aside>
</main>

<footer class="footer" role="contentinfo">
  <div style="max-width:980px;margin:0 auto">
    &copy; 2025 Talousvahti — ylläpitäjä <strong>Jere Järvelä</strong>
    <div style="margin-top:10px;color:var(--muted)">
      <a href="tietosuoja.html">Tietosuojakäytäntö</a> &middot;
      <a href="evasteet.html">Evästekäytäntö</a> &middot;
      <a href="kayttoehdot.html">Käyttöehdot</a>
    </div>
  </div>
</footer>

<script>
  // DOM Elements
  const todayDateEl = document.getElementById('today-date');
  const feedsContainer = document.getElementById('feeds');
  const loader = document.getElementById('loader');
  const hamburger = document.getElementById('hamburger');
  const mobileMenu = document.getElementById('mobileMenu');

  // API URL for news feed
  const rssUrl = 'https://script.google.com/macros/s/AKfycbzLi_oCwPh1BhH94s0vgy0DJUqLjrNCLwr6Zkr-iRBMRKDtyqPRck8LHZKdCq5Tl9Wp/exec';

  // --- Initialization ---

  // Set today's date
  const today = new Date();
  const dd = String(today.getDate()).padStart(2,'0');
  const mm = String(today.getMonth()+1).padStart(2,'0');
  if (todayDateEl) {
    todayDateEl.textContent = `${dd}.${mm}`;
  }

  // Fetch news feed
  function fetchNewsFeed() {
    fetch(rssUrl)
      .then(res => {
        if (!res.ok) {
          throw new Error(`HTTP error! status: ${res.status}`);
        }
        return res.text();
      })
      .then(html => {
        // Hide loader
        if (loader) loader.style.display = 'none';
        
        // Inject the fetched content (HTML from Google Script)
        if (feedsContainer) feedsContainer.innerHTML = html;

        // Add 'visible' class to new feed-boxes for animation
        setTimeout(() => {
          document.querySelectorAll('#feeds .feed-box').forEach(box => {
            // We use a small delay to ensure the content is rendered
            box.classList.add('visible');
          });
        }, 50); // Small delay
      })
      .catch(err => {
        console.error('RSS fetch error:', err);
        // Hide loader and show error message
        if (loader) loader.style.display = 'none';
        if (feedsContainer) feedsContainer.innerHTML = "<div class='card visible'><p style='color:red'>Uutisia ei voitu ladata. Yritä ladata sivu uudelleen.</p></div>";
      });
  }

  // --- Event Listeners ---

  // Mobile menu toggle
  if (hamburger && mobileMenu) {
    hamburger.addEventListener('click', () => {
      const open = mobileMenu.style.display === 'block';
      mobileMenu.style.display = open ? 'none' : 'block';
      hamburger.setAttribute('aria-expanded', String(!open));
      mobileMenu.setAttribute('aria-hidden', String(open));
    });
    // Close mobile menu on outside click or escape key (re-used logic from second script)
    document.addEventListener('click', (e) => {
      if (mobileMenu.style.display === 'block' && !mobileMenu.contains(e.target) && !hamburger.contains(e.target)) {
        mobileMenu.style.display = 'none';
        hamburger.setAttribute('aria-expanded', 'false');
      }
    });
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && mobileMenu.style.display === 'block') {
        mobileMenu.style.display = 'none';
        hamburger.setAttribute('aria-expanded','false');
        hamburger.focus();
      }
    });
  }

  // Run the news fetch on page load
  fetchNewsFeed();

  // --- Accessibility / Animation for Card Elements (Feed boxes) ---
  // Note: Since the feed boxes are loaded dynamically, the IntersectionObserver
  // is handled inside the fetchNewsFeed function after content injection.
  // This small function is just for the static sidebar card.
  const sidebarCard = document.getElementById('subscribe');
  if (sidebarCard) {
    // The sidebar card is marked as 'visible' in the HTML directly for immediate visibility
    // but it's good practice to ensure the animation fires if the class wasn't there.
    // For this single static element, we'll keep it simple:
    setTimeout(() => sidebarCard.classList.add('visible'), 50);
  }
</script>

</body>
</html>
